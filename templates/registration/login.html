{% extends "base.html" %}
{% load static %}

{% block title %}
<title>Log In</title>
{% endblock %}

{% block css_overrides %}
<style>
#login-dog{
  position: absolute;
  bottom: 0;
  right: 0;
}
#login-card-container {
  max-width: 350px;
  min-width: 300px;
  margin-left: auto;
  margin-right: auto;
}
@media(max-width:760px) {
  #login-dog{
    display: block;
    position: relative;
    margin-left: auto;
    margin-right: auto;
  }
  .card-row {
    margin-top: 10vh;
  }
}

@media(max-height:500px){
  #login-dog{
    display: none;
  }
}
</style>
{% endblock %}

{% block content %}
<div class="row card-row">
  <div id="login-card-container" class="z-depth-4 round">
    <div class="card white round">
      <form method="post" action="{% url 'login' %}">
        {% csrf_token %}
        <div class="card-content black-text">
          <span class="card-title">Log in</span>
          <div class="error">
            {% for error in form.source.errors %}
            {{ error }}<br/>
            {% endfor %}

            {% for error in form.non_field_errors %}
            {{ error }}<br/>
            {% endfor %}

            {% for field in form.visible_fields %}
            {% for error in field.errors %}
            {{ error }}<br/>
            {% endfor %}
            {% endfor %}
          </div>
          {% for field in form.visible_fields %}
          <div class="input-field">
            {{ field }}
            <label for="{{ field.id_for_label }}">{{ field.label }}</label>
          </div>
          {% endfor %}
          <div class="center-align">
            <input class="btn btn-default btn-lg" value="submit" type="submit">
          </div>
        </div>
        <div class="card-action center-align">
          <a style="margin: 0;" href="{% url 'registration_register' %}">Create account</a>
          <br/>
          <a style="margin: 0;" href="{% url 'password_reset' %}">Forgot password?</a>
        </div>
        <input type="hidden" name="next" value="{{ next }}" />
      </form>
    </div>
  </div>
</div>
<img id="login-dog" class="card-image" src="{% static 'img/dog_laptop_ellipse.png' %}">
{% endblock %}
